{% extends "layouts/base.html" %}

{% block title %}管理员面板 - {{ super() }}{% endblock %}

{% block extra_css %}
<style>
    .admin-sidebar {
        background-color: var(--sidebar-bg);
        border-right: 1px solid var(--border-color);
    }
    
    .admin-layout {
        display: flex;
        min-height: calc(100vh - var(--header-height) - var(--footer-height));
    }
    
    .admin-content {
        flex: 1;
        padding: 20px;
    }
</style>
{% endblock %}

{% block content %}
<div class="admin-layout">
    <!-- 侧边栏 -->
    <el-aside width="200px" class="admin-sidebar">
        <el-menu
            default-active="dashboard"
            class="el-menu-vertical-demo"
            @select="handleAdminMenuSelect">
            <el-menu-item index="dashboard">
                <i class="fa fa-tachometer"></i>
                <span>仪表盘</span>
            </el-menu-item>
            <el-menu-item index="users">
                <i class="fa fa-users"></i>
                <span>用户管理</span>
            </el-menu-item>
            <el-menu-item index="logs">
                <i class="fa fa-history"></i>
                <span>系统日志</span>
            </el-menu-item>
            <el-menu-item index="security">
                <i class="fa fa-shield"></i>
                <span>安全设置</span>
            </el-menu-item>
        </el-menu>
    </el-aside>

    <!-- 管理员内容区 -->
    <div class="admin-content">
        <el-card>
            <div slot="header">
                <h2>{% block admin_title %}管理员面板{% endblock %}</h2>
            </div>
            
            <div class="admin-card-body">
                {% block admin_content %}{% endblock %}
            </div>
        </el-card>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // 扩展全局应用
    app.config.globalProperties.$handleAdminMenuSelect = function(key) {
        console.log('管理员菜单选择:', key);
        // 这里可以添加管理员页面切换逻辑
    };
    
    // 在当前页面的Vue实例中添加方法
    app._context.config.globalProperties.handleAdminMenuSelect = function(key) {
        this.$handleAdminMenuSelect(key);
    };
</script>
{% endblock %}
